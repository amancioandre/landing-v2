<!DOCTYPE html>

</html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    
    
    
    <link rel="stylesheet" href="/css/styles.min.690a841b9133288485bbf931cd6128c9170b8363dd29499475b06225cc00eac0.css" integrity="sha256-aQqEG5EzKISFu/kxzWEoyRcLg2PdKUmUdbBiJcwA6sA=" />
    

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
    <script src="https://unpkg.com/dayjs@1.8.21/plugin/relativeTime.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    
    <script src="/js/numbers.min.js"></script>

    
    <script src="/js/api.min.js"></script>
</head>

<body>
    <header>
    <div class="hidden lg:block">
        <style>
    .scale-in-center {
        -webkit-animation: scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
        animation: scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;
    }

     

     
    @-webkit-keyframes scale-in-center {
        0% {
            -webkit-transform: scale(0);
            transform: scale(0);
            opacity: 1;
        }

        100% {
            -webkit-transform: scale(1);
            transform: scale(1);
            opacity: 1;
        }
    }

    @keyframes scale-in-center {
        0% {
            -webkit-transform: scale(0);
            transform: scale(0);
            opacity: 1;
        }

        100% {
            -webkit-transform: scale(1);
            transform: scale(1);
            opacity: 1;
        }
    }
</style>

<a class="absolute top-0 right-16" href="https://www.victoria.ca/#" target="_blank">
    <div class="absolute bg-red-500 transform rotate-45 shadow-lg"
        style="top: 34px; left: 6px; width: 28px; height: 28px;">
    </div>
    <div id="flag"
        class="w-10 h-12 bg-red-500 text-center text-light text-2xl py-3 transform">
        <i class="fab fa-canadian-maple-leaf text-white"></i>
    </div>
</a>
<span id="flag-text" class="
        hidden
        absolute
        top-14
        right-24
        text-xs
        w-28
        p-2
        rounded-sm
        transform
        transition-all
        duration-300
        ease-in-out
        ">
    Currently living in <b>
        Victoria</b>,
    BC,
    Canada </span>

<script>
    const flag = document.getElementById("flag")
    const flagText = document.getElementById("flag-text")

    flag.addEventListener("mouseenter", () => {
        flagText.classList.replace("hidden", "block")
        flagText.classList
    })

    flag.addEventListener("mouseleave", () => {
        flagText.classList.replace("block", "hidden")
    })
</script>
    </div>
    <aside id="sidedrawer" class="
    transform
    absolute
    top-14
    left-0
    bg-white
    z-50
    w-full
    min-h-screen
    ease-in-out
    transition-all
    duration-300
    -translate-x-full
    ">
    <div class="px-8 mt-4">
        <div class="flex flex-col">
            <ul class="
            flex 
            flex-col 
            justify-around
            content-start
            text-sm
            h-20
            ">
                <li class="px-2 lowercase hover:text-red-500 ">
    <a href="http://127.0.0.1:8080/">Home</a>
</li><li class="px-2 lowercase hover:text-red-500 ">
    <a href="http://127.0.0.1:8080/about">About</a>
</li><li class="px-2 lowercase hover:text-red-500 ">
    <a href="http://127.0.0.1:8080/categories">Explore</a>
</li>
            </ul>
            <ul class="
                mt-6
                flex
                flex-none
                justify-start
                content-start
                text-2xl
            ">
                <li class="hover:animate-bounce">
    <a href="https://www.linkedin.com/amancioandre" target="_blank">
        <i class="px-2 fab fa-linkedin-in hover:text-red-500"></i>
    </a>
</li>
<li class="hover:animate-bounce">
    <a href="https://www.instagram.com/andre_amoraes" target="_blank">
        <i class="px-2 fab fa-instagram hover:text-red-500"></i>
    </a>
</li>
<li class="hover:animate-bounce">
    <a href="https://www.github.com/amancioandre" target="_blank">
        <i class="px-2 fab fa-github-alt hover:text-red-500"></i>
    </a>
</li>
            </ul>
        </div>
    </div>
</aside>
    <nav class="mb-4">
        <div class="max-w-5xl mx-auto px-2 sm:px-6 lg:px-8">
            <div class="relative flex items-center justify-between h-16">
                
                <div class="w-full sm:hidden px-6 flex justify-between">
                    
                    <div id="menu-burger" class="cursor-pointer hover:text-red-500">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </div>
                    <div class="w-full flex justify-center">
                        <p class="font-sans tracking tighter text-3xl">Andr√© de Moraes</p>
                    </div>
                </div>
                
                <div class="
                        w-full
                        hidden
                        sm:flex
                        flex-row
                        flex-nowrap
                        justify-end
                        items-center
                    ">
                    <div class="self-center mr-auto">
                        <p class="font-sans tracking tighter text-xl">Andr√© de Moraes</p>
                    </div>
                    <ul class=" flex flex-none justify-center content-center items-center text-xs">
                        <li class="px-2 lowercase hover:text-red-500 ">
    <a href="http://127.0.0.1:8080/">Home</a>
</li><li class="px-2 lowercase hover:text-red-500 ">
    <a href="http://127.0.0.1:8080/about">About</a>
</li><li class="px-2 lowercase hover:text-red-500 ">
    <a href="http://127.0.0.1:8080/categories">Explore</a>
</li> </ul>
                    <ul class="ml-6 flex flex-none justify-center content-center text-lg">
                        <li class="hover:animate-bounce">
    <a href="https://www.linkedin.com/amancioandre" target="_blank">
        <i class="px-2 fab fa-linkedin-in hover:text-red-500"></i>
    </a>
</li>
<li class="hover:animate-bounce">
    <a href="https://www.instagram.com/andre_amoraes" target="_blank">
        <i class="px-2 fab fa-instagram hover:text-red-500"></i>
    </a>
</li>
<li class="hover:animate-bounce">
    <a href="https://www.github.com/amancioandre" target="_blank">
        <i class="px-2 fab fa-github-alt hover:text-red-500"></i>
    </a>
</li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <script>
        let isOpen = false
        const openSideDrawer = () => {
            const sidedrawer = document.getElementById("sidedrawer")
            if (!isOpen) {
                sidedrawer.classList.replace("-translate-x-full", "translate-x-0")
            } else {
                sidedrawer.classList.replace("translate-x-0", "-translate-x-full")
            }
            isOpen = !isOpen
        }

        document.getElementById("menu-burger").addEventListener("click", openSideDrawer)
    </script>
</header>
    

<div class="max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 mb-6 mt-4">
    <div class="flex justify-center">
        
        <aside class="hidden sm:block w-1/5 pr-4">
    <div class="mb-6">
        <h3 class="text-lg font-bold mb-2">About</h3>
        <p class="text-xs">
            An example about
        </p>
    </div>
    <div class="sticky top-6 max-h-64">
        
        <h3 class="text-lg font-bold mb-2">Contents</h3>
        <p class="text-xs hover:text-red-500">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#creating-an-environment-from-ground-up">Creating an environment from ground up</a></li>
    <li><a href="#creating-an-environment-from-an-yaml-file">Creating an environment from an Yaml file</a></li>
    <li><a href="#updating-an-environment">Updating an environment</a></li>
    <li><a href="#when-its-time-to-work">When its time to work</a></li>
    <li><a href="#useful-commands">Useful Commands</a></li>
    <li><a href="#references">References</a></li>
  </ol>
</nav>
        </p>
        
        <h3 class="text-lg font-bold mt-6 mb-2">More posts about</h3>
        <div class="text-xs mb-6">
            <ul>
                
                
                <li class="hover:text-red-500">
                    <a href="/categories/best-practices">Best Practices</a>
                </li>
                
                
                
                <li class="hover:text-red-500">
                    <a href="/categories/python">Python</a>
                </li>
                
                
                
                <li class="hover:text-red-500">
                    <a href="/categories/conda">Conda</a>
                </li>
                
                
            </ul>
        </div>
        <div class="flex justify-end">
            
            <button id="share-button" class="m-2 cursor-pointer">
                <div id="tooltip" class="opacity-0 text-xs text-gray-500">
                    copied!
                </div>
                <div class="hover:text-red-500 flex justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
</svg>
                </div>
            </button>
        </div>
    </div>
</aside>

<script>
    const shareButton = document.getElementById("share-button")
    const tooltip = document.getElementById("tooltip")

    const copyToClipboard = () => {
        navigator.clipboard.writeText(window.location)
        tooltip.classList.replace("opacity-0", "animate-fade-in-up")

        setTimeout(() => {
            tooltip.classList.replace("animate-fade-in-up", "opacity-0")
        }, 650)
    }

    shareButton.addEventListener("click", copyToClipboard)
</script>
        <article class="sm:w-4/5 pl-4">
    <header>
        <h1 class="text-4xl font-bold mt-0 mb-0">Conda Environments</h1>
        <time datetime='2020-04-30 09:42'>
            <span class="text-sm text-gray-400">
                April 30, 2020 09:42
            </span>
        </time>
    </header>
    <div class="my-8">
        <p>No more tears!
If you are a user of conda packages, more precisely <a href="">Jupyter Notebook</a>, as I am, you should wory - a lot! - with your programming environment and your OS. Your <em>environment</em> is one of the barriers that prevent you from cloging your system with all sorts of packages and their - conflicting - versions. Lets be honest, you don&rsquo;t want a crucial package being overwritten on your system do you?</p>
<p>So let&rsquo;s go!</p>
<!-- raw HTML omitted -->
<h2 id="creating-an-environment-from-ground-up">Creating an environment from ground up</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda create --name myenv
</code></pre></div><p>It is recommended to create your <em>environment</em> already with the packages you want to install, so there is no conflict issues with dependencies. This way</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda create --name myenv python scipy<span style="color:#f92672">=</span>0.15.0 astroid babel
</code></pre></div><p>Or</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda create --name myenv
$ conda install -n myenv python scipy<span style="color:#f92672">=</span>0.15.0 astroid babel
</code></pre></div><p>Note that:</p>
<ul>
<li>Use of package_name=<strong>version</strong> to identify which specific version you want;</li>
<li>Creating <em>environments</em> this way loads default packages and if you want a <strong>clean</strong> environment you should use:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda create --no-default-packages -n myenv _packages you want to install_
</code></pre></div><h2 id="creating-an-environment-from-an-yaml-file">Creating an environment from an Yaml file</h2>
<p>To create an environment from an <code>.yml|yaml</code> file, it has to have a specific structure, since the routines from the CLI will look for particular attributes to <strong>name</strong> and install <strong>dependencies</strong> through <strong>channels</strong>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">name</span>: myenv
<span style="color:#66d9ef">channels</span>:
  - channel_name
<span style="color:#66d9ef">dependencies</span>:
  - python
  - scipy=<span style="color:#ae81ff">0.15.0</span>
  - astroid
  - babel
</code></pre></div><p>Awesome, now we do have a starting point: our <code>env.yml</code>. Lets go back to the terminal and:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda env create -f env.yml
</code></pre></div><p>Respecting the <code>env.yml</code> path.</p>
<h2 id="updating-an-environment">Updating an environment</h2>
<p>There will be a moment when you will miss some dependency or another, versions are not up-to-date or even, there are better packages to work with. This time you will remember how ease <code>pip</code> is or even <code>npm|yarn</code>.</p>
<p>The best, documentation recomended, way is making a <em>manual</em> update on your <code>env.yml</code> file and execute the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda env update --prefix ./env --file env.yml --prune
</code></pre></div><p>If you are a hasty person, and you cannot be without <code>pip</code> there is a way. But before that you need to config conda to use the python package manager.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda config --set pip_interop_enabled True
</code></pre></div><p><strong>Atention!</strong></p>
<p>Only use <code>pip</code> to install new dependencies with your <strong>environment</strong> enabled!</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pip install --upgrade-strategy only-if-needed package
$ pip freeze &gt; requirements.txt
</code></pre></div><p>Or</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda list --explicit &gt; requirements.txt
</code></pre></div><h2 id="when-its-time-to-work">When its time to work</h2>
<p>Like work had never came before eveything, doesn&rsquo;t it?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda activate
</code></pre></div><p>And to deactivate</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ conda deactivate
</code></pre></div><h2 id="useful-commands">Useful Commands</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># List Environment</span>
$ conda env list

<span style="color:#75715e"># Info</span>
$ conda info --envs

<span style="color:#75715e"># Map dependencies to a text file</span>
$ conda list --explicit &gt; requirements.txt
</code></pre></div><h2 id="references">References</h2>
<p><a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">Conda Documentation</a></p>


        <br>
        <span class="text-xl">
            üçª
        </span>
        <br>
        <span class="text-sm">Andr√©</span>
    </div>
</article>
        
    </div>
</div>


    <footer class="relative bottom-0 w-full">
    <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between flex-col">
            
            <div class="w-full sm:hidden px-6 flex flex-col content-center">
                <div class="mb-1">
                    <p class="text-xs">Please, consider subscribing:</p>
                </div>
                

<div id="mc_embed_signup">
    <form action="https://gmail.us5.list-manage.com/subscribe/post?u=7e99b339d496a6c7b1139d4fc&amp;amp;id=6cb1abe378" method="post" id="mc-embedded-subscribe-form"
        name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll" class="flex">
            <div
                class="mc-field-group sm:max-w-lg w-full rounded-l-lg pl-2 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-white text-xs outline-none flex">
                <input type="email" value="" name="EMAIL" class="required email outline-none w-full focus:bg-white"
                    placeholder='yourbest@email.com' id="mce-EMAIL">
            </div>
            
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
                    name="b_7e99b339d496a6c7b1139d4fc_6cb1abe378" tabindex="-1" value=""></div>
            <div
                class="clear cursor-pointer px-4 rounded-r-lg bg-red-400 hover:bg-red-500 p-3  border-red-500 border-t border-r ">
                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
                    class="button text-white text-xs uppercase bg-transparent font-bold cursor-pointer">
            </div>
        </div>
    </form>
    <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
    </div>
</div>


            </div>
            
            <div class="
                    w-full
                    hidden
                    sm:flex
                    flex-nowrap
                    justify-center
                    content-center
                ">
                <div>
                    <div class="mb-1">
                        <p class="text-xs max-w-sm">
                            Hey, you&#39;ve reached all the way down here! If you liked the content, please, consider subscribing!
                        </p>
                    </div>
                    

<div id="mc_embed_signup">
    <form action="https://gmail.us5.list-manage.com/subscribe/post?u=7e99b339d496a6c7b1139d4fc&amp;amp;id=6cb1abe378" method="post" id="mc-embedded-subscribe-form"
        name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll" class="flex">
            <div
                class="mc-field-group sm:max-w-lg w-full rounded-l-lg pl-2 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-white text-xs outline-none flex">
                <input type="email" value="" name="EMAIL" class="required email outline-none w-full focus:bg-white"
                    placeholder='yourbest@email.com' id="mce-EMAIL">
            </div>
            
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text"
                    name="b_7e99b339d496a6c7b1139d4fc_6cb1abe378" tabindex="-1" value=""></div>
            <div
                class="clear cursor-pointer px-4 rounded-r-lg bg-red-400 hover:bg-red-500 p-3  border-red-500 border-t border-r ">
                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
                    class="button text-white text-xs uppercase bg-transparent font-bold cursor-pointer">
            </div>
        </div>
    </form>
    <div id="mce-responses" class="clear">
        <div class="response" id="mce-error-response" style="display:none"></div>
        <div class="response" id="mce-success-response" style="display:none"></div>
    </div>
</div>


                </div>
            </div>
            <div class="border-t border-gray-300 mt-4 text-xs text-center p-4">
                All rights reserved. <b>&copy;</b>
                Andr√© de Moraes,
                2021
            </div>
        </div>
    </div>
</footer>
</body>

</html>